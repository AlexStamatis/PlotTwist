import{a as it}from"./chunk-P4D6MCW7.js";import{a as We,b as Ge,c as Qe,d as Ke,e as Ze,f as Je,g as Xe,h as et,i as tt,j as ot,k as nt}from"./chunk-56PFFLFT.js";import{a as $}from"./chunk-34JODJEV.js";import{a as y}from"./chunk-2WL43MMA.js";import{a as qe}from"./chunk-AZEG4D2Y.js";import{$ as c,$a as Ve,Aa as q,Ba as B,D as Oe,E as P,F as x,Ga as ne,I as W,Ia as K,Ja as Re,L as l,La as te,Ma as De,N as G,Na as ye,O as Se,P as s,Pa as Ee,Qa as Ne,R as f,Sa as we,T as C,W as ke,Wa as Ae,Xa as Z,Y as b,Ya as J,_a as Le,ba as D,bb as E,cb as je,da as O,fa as k,fb as Be,ga as F,gb as ze,ha as r,hb as z,ia as i,ja as _,jb as $e,ka as Fe,kb as R,l as j,la as Ie,lb as ie,mb as He,na as M,nb as Ue,ob as Ye,pa as m,pb as X,qa as h,ta as Q,ya as ee,za as d}from"./chunk-CCENH2DD.js";function lt(o,t){if(o&1){let e=M();r(0,"li")(1,"a",4),m("click",function(){let a=P(e).$implicit,p=h();return x(p.onSelect(a))}),d(2),i()()}if(o&2){let e=t.$implicit;s(2),B(" ",e,"")}}var re=class o{category="";options=[];selectionChanged=new W;selected=l(null);onSelect(t){this.selected.set(t),this.selectionChanged.emit(t)}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=C({type:o,selectors:[["app-dropdown"]],inputs:{category:"category",options:"options"},outputs:{selectionChanged:"selectionChanged"},decls:5,vars:2,consts:[[1,"dropdown"],["data-toggle","dropdown"],[1,"dropdown-menu"],[4,"ngFor","ngForOf"],[1,"dropdown-item",3,"click"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1),d(2),i(),r(3,"ul",2),b(4,lt,3,1,"li",3),i()()),e&2&&(s(2),B(" ",n.category," "),s(2),c("ngForOf",n.options))},dependencies:[E,Z],encapsulation:2})};var pt=o=>["/u",o,"favorites"],ct=o=>["/u",o,"watchlist"],dt=o=>["/u",o,"ratings"];function mt(o,t){if(o&1){let e=M();Fe(0),r(1,"span",9),d(2),i(),r(3,"div",10)(4,"button",11),d(5),i(),r(6,"ul",12)(7,"li")(8,"a",13),d(9,"Favorites"),i()(),r(10,"li")(11,"a",13),d(12,"Watchlist"),i()(),r(13,"li")(14,"a",13),d(15,"Ratings"),i()()()(),r(16,"button",14),m("click",function(){P(e);let a=h();return x(a.logout())}),d(17," Logout "),i(),Ie()}if(o&2){let e,n=h();s(2),B("Welcome, ",n.username(),""),s(3),B(" ",(e=n.username())==null?null:e.charAt(0),""),s(3),c("routerLink",K(5,pt,n.username())),s(3),c("routerLink",K(7,ct,n.username())),s(3),c("routerLink",K(9,dt,n.username()))}}function gt(o,t){if(o&1){let e=M();r(0,"button",15),m("click",function(){P(e);let a=h();return x(a.startLogin())}),_(1,"i",16),d(2," Login or Register "),i()}}var se=class o{constructor(t,e){this.router=t;this.authService=e}moviesOptions=["Popular","Now Playing","Upcoming","Top Rated"];tvshowsOptions=["Popular","Airing Today","On TV","Top Rated"];peopleOptions=["Popular People"];isLoggedIn=we(()=>this.authService.isLoggedIn());username=we(()=>this.authService.username());routeMap={movies:{Popular:"/movie","Now Playing":"/movie/now-playing",Upcoming:"/movie/upcoming","Top Rated":"/movie/top-rated"},tv:{Popular:"/tv","Airing Today":"/tv/airing-today","On TV":"/tv/on-tv","Top Rated":"/tv/top-rated"},people:{"Popular People":"/people"}};onDropdownSelect(t,e){let n=this.routeMap[t]?.[e];n&&this.router.navigate([n])}sendHome(){this.router.navigate(["/"])}startLogin(){this.authService.requestToken().subscribe({next:t=>{let e=t.request_token;this.authService.redirectToTmdbAuth(e)},error:t=>{console.error("Error requesting token",t)}})}logout(){this.authService.logout()}static \u0275fac=function(e){return new(e||o)(f(R),f(qe))};static \u0275cmp=C({type:o,selectors:[["app-header"]],decls:16,vars:8,consts:[["loggedOut",""],[1,"d-flex","justify-content-between","header-container"],[1,"d-flex"],[1,"logo-container",2,"cursor","pointer",3,"click"],[1,"navbar","header-navbar"],[1,"navbar-options"],[3,"selectionChanged","category","options"],[1,"d-flex","align-items-center"],[4,"ngIf","ngIfElse"],[1,"text-white"],[1,"dropdown"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-outline-light","rounded-circle","text-uppercase","fw-bold",2,"width","40px","height","40px"],[1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item",3,"routerLink"],[1,"logout-btn","ms-2",3,"click"],["type","button",1,"login-btn","align-self-center",3,"click"],[1,"fa-solid","fa-user"]],template:function(e,n){if(e&1){let a=M();r(0,"div",1)(1,"div",2)(2,"div",3),m("click",function(){return P(a),x(n.sendHome())}),r(3,"p"),d(4,"Plot Twist"),i()(),r(5,"nav",4)(6,"a",5)(7,"app-dropdown",6),m("selectionChanged",function(I){return P(a),x(n.onDropdownSelect("movies",I))}),i()(),r(8,"a",5)(9,"app-dropdown",6),m("selectionChanged",function(I){return P(a),x(n.onDropdownSelect("tv",I))}),i()(),r(10,"a",5)(11,"app-dropdown",6),m("selectionChanged",function(I){return P(a),x(n.onDropdownSelect("people",I))}),i()()()(),r(12,"div",7),b(13,mt,18,11,"ng-container",8)(14,gt,3,0,"ng-template",null,0,Ee),i()()}if(e&2){let a=ee(15);s(7),c("category","Movies")("options",n.moviesOptions),s(2),c("category","TV Shows")("options",n.tvshowsOptions),s(2),c("category","People")("options",n.peopleOptions),s(2),c("ngIf",n.isLoggedIn())("ngIfElse",a)}},dependencies:[E,J,re,X,ie],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]{max-width:1300px;flex-wrap:wrap;margin:auto}[_nghost-%COMP%]   .logo-container[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   p[_ngcontent-%COMP%]{color:var(--logo-color);font-size:50px;font-family:cursive}[_nghost-%COMP%]   .header-navbar[_ngcontent-%COMP%]{display:flex;font-size:18px;justify-content:space-between;cursor:pointer}[_nghost-%COMP%]   .navbar-options[_ngcontent-%COMP%]{font-weight:700;margin:10px;color:#fff}[_nghost-%COMP%]   .navbar-options[_ngcontent-%COMP%]:hover{color:#dfdcd5}[_nghost-%COMP%]   .login-btn[_ngcontent-%COMP%]{border:none;outline:none;padding:4px 10px;background-color:var(--logo-color);color:#000;font-weight:500;border-radius:30px;height:40px;cursor:pointer}[_nghost-%COMP%]   .login-btn[_ngcontent-%COMP%]:hover{background-color:var(--btn-hover)}[_nghost-%COMP%]   .fa-user[_ngcontent-%COMP%]{margin-right:5px}[_nghost-%COMP%]   .d-flex.align-items-center[_ngcontent-%COMP%]   span.text-white[_ngcontent-%COMP%]{margin-right:12px;font-weight:500;font-size:16px}[_nghost-%COMP%]   .dropdown[_ngcontent-%COMP%]   .btn-outline-light[_ngcontent-%COMP%]{background-color:#fff;color:#000;border:none;width:40px;height:40px;border-radius:50%;font-weight:700;font-size:18px;text-align:center;padding:0;line-height:40px}[_nghost-%COMP%]   .dropdown[_ngcontent-%COMP%]   .btn-outline-light[_ngcontent-%COMP%]:hover{background-color:#ddd;color:#000}[_nghost-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{font-weight:500}[_nghost-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{background-color:#333}[_nghost-%COMP%]   .logout-btn[_ngcontent-%COMP%]{background-color:var(--logo-color);border-radius:50px;padding:8px 20px;transition:all .3s ease;border:none;font-weight:600}"]})};var ae=class o{static \u0275fac=function(e){return new(e||o)};static \u0275cmp=C({type:o,selectors:[["app-footer"]],decls:12,vars:0,consts:[[1,"footer-container"],[1,"footer-links"],["href","#"]],template:function(e,n){e&1&&(r(0,"footer",0)(1,"h3"),d(2,"Plot Twist"),i(),r(3,"p"),d(4,"\xA92025.All rights reserved"),i(),r(5,"div",1)(6,"a",2),d(7,"About"),i(),r(8,"a",2),d(9,"Contact"),i(),r(10,"a",2),d(11,"Privacy"),i()()())},styles:["[_nghost-%COMP%]{display:block}.footer-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;background-color:#0d083a;color:#ffffffd9;text-align:center;align-items:center;justify-content:center;width:100%;min-height:100px}h3[_ngcontent-%COMP%]{color:var(--logo-color);font-size:30px;font-family:cursive}.footer-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;margin:0 0 0 30px;align-items:center}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#ffffffb3;margin-left:30px;text-decoration:none;font-size:14px;transition:color .3s}.footer-links[_ngcontent-%COMP%]{display:flex;gap:5px;justify-content:center;flex-wrap:wrap}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff}@media (max-width: 600px){.footer-container[_ngcontent-%COMP%]{padding:15px 10px}.footer-links[_ngcontent-%COMP%]{gap:10px}}"]})};var le=class o{title="PlotTwist";static \u0275fac=function(e){return new(e||o)};static \u0275cmp=C({type:o,selectors:[["app-root"]],decls:3,vars:0,template:function(e,n){e&1&&_(0,"app-header")(1,"router-outlet")(2,"app-footer")},dependencies:[$e,X,se,ae],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-height:100vh}router-outlet[_ngcontent-%COMP%]{flex-grow:1}"]})};var ut=o=>({"active-button":o});function ht(o,t){if(o&1){let e=M();r(0,"button",2),m("focus",function(){let a=P(e).$implicit,p=h();return x(p.onBtnFocus(a))})("click",function(){let a=P(e).$implicit,p=h();return x(p.onBtnClick(a))}),d(1),i()}if(o&2){let e=t.$implicit;c("ngClass",K(2,ut,e.isActive)),s(),B(" ",e.btnName," ")}}var pe=class o{options=[];optionChanged=new W;selectedOption=l("");onBtnClick(t){this.options.forEach(e=>e.isActive=!1),t.isActive=!0,this.selectedOption.set(t.btnName),this.optionChanged.emit(t.btnName)}onBtnFocus(t){this.options.forEach(e=>{t.btnName===e.btnName?e.isActive=!0:e.isActive=!1})}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=C({type:o,selectors:[["app-toggle-button"]],inputs:{options:"options"},outputs:{optionChanged:"optionChanged"},decls:2,vars:1,consts:[[1,"toggle-container"],["class","toggle-button",3,"ngClass","focus","click",4,"ngFor","ngForOf"],[1,"toggle-button",3,"focus","click","ngClass"]],template:function(e,n){e&1&&(r(0,"div",0),b(1,ht,2,4,"button",1),i()),e&2&&(s(),c("ngForOf",n.options))},dependencies:[E,Ae,Z],styles:[".toggle-container[_ngcontent-%COMP%]{display:inline-flex;background-color:#f0f0f0;border-radius:20px;margin-left:10px;margin-top:5px;overflow:hidden}.toggle-button[_ngcontent-%COMP%]{display:flex;border:none;border-radius:20px;font-size:16px;font-weight:500;align-items:center;height:35px;padding:8px 20px;cursor:pointer;z-index:1}.active-button[_ngcontent-%COMP%]{background-color:var(--logo-color);z-index:2}"]})};var vt=(o,t)=>["/",o,t],A=class o{constructor(t){this.router=t}title;posterPath;releaseDate;voteAverage;movieId;mediaType="movie";static \u0275fac=function(e){return new(e||o)(f(R))};static \u0275cmp=C({type:o,selectors:[["app-movie-card"]],inputs:{title:"title",posterPath:"posterPath",releaseDate:"releaseDate",voteAverage:"voteAverage",movieId:"movieId",mediaType:"mediaType"},decls:13,vars:16,consts:[[1,"movie-card","position-relative","overflow-hidden",3,"routerLink"],[1,"image-wrapper","position-relative"],[3,"src","alt"],[1,"rating-badge"],[1,"card-body"],[1,"title",3,"title"],[1,"release-date"],[1,"fa-solid","fa-calendar"]],template:function(e,n){e&1&&(r(0,"a",0)(1,"div",1),_(2,"img",2),r(3,"div",3),d(4),te(5,"number"),i()(),r(6,"div",4)(7,"h5",5),d(8),i(),r(9,"div",6),_(10,"i",7),d(11),te(12,"date"),i()()()),e&2&&(c("routerLink",Re(13,vt,n.mediaType,n.movieId)),s(2),Q("alt",n.title),c("src","https://image.tmdb.org/t/p/w500/"+n.posterPath,G),s(2),B(" ",n.voteAverage>0?ye(5,7,n.voteAverage,"1.1-1"):"NR"," "),s(3),c("title",n.title),s(),q(n.title),s(3),B(" ",ye(12,10,n.releaseDate,"longDate")," "))},dependencies:[E,Ve,Le,X,ie],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   [_ngcontent-%COMP%]:hover{cursor:pointer}[_nghost-%COMP%]   .movie-card[_ngcontent-%COMP%]{display:block;width:230px;justify-content:center;flex-shrink:0;background-color:#fff;border-radius:12px;overflow:hidden;display:flex;flex-direction:column;height:100%;text-decoration:none}[_nghost-%COMP%]   .image-wrapper[_ngcontent-%COMP%]{position:relative;height:360px}[_nghost-%COMP%]   .image-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block;border-top-left-radius:12px;border-top-right-radius:12px}[_nghost-%COMP%]   .card-body[_ngcontent-%COMP%]{position:relative;background-color:#fff;padding:5px 9px;color:#000;height:100px}[_nghost-%COMP%]   .title[_ngcontent-%COMP%]{font-size:19px;font-weight:600;margin-top:5px;line-height:1.2;line-clamp:2;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}[_nghost-%COMP%]   .release-date[_ngcontent-%COMP%]{font-size:17px;color:#161515;display:flex;align-items:center;gap:4px}[_nghost-%COMP%]   .rating-badge[_ngcontent-%COMP%]{position:absolute;bottom:-10px;background-color:#354245d9;color:#f1b903;border-radius:50%;width:40px;height:40px;font-size:15px;font-weight:700;display:flex;justify-content:center;align-items:center;box-shadow:0 2px 6px #0000004d;z-index:1;margin-left:7px}[_nghost-%COMP%]   .rating-badge[_ngcontent-%COMP%]:hover{transform:scale(1.1)}[_nghost-%COMP%]   .fa-calendar[_ngcontent-%COMP%]{margin-right:5px}"]})};var ce=class o{constructor(t){this.sanitizer=t}transform(t){return this.sanitizer.bypassSecurityTrustResourceUrl(t)}static \u0275fac=function(e){return new(e||o)(f(ze,16))};static \u0275pipe=ke({name:"safe",type:o,pure:!0})};var de=class o{constructor(t){this.ngbActiveModal=t}modalTitle;youtubeUrl;onClose(){this.ngbActiveModal.close()}static \u0275fac=function(e){return new(e||o)(f(tt))};static \u0275cmp=C({type:o,selectors:[["app-trailer-modal"]],inputs:{modalTitle:"modalTitle",youtubeUrl:"youtubeUrl"},decls:9,vars:4,consts:[[1,"modal-content","p-0"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",2,"filter","invert(1)",3,"click"],[1,"modal-body"],[1,"video-container"],["id","youtubeIframe","width","100%","height","100%","frameborder","0","allowfullscreen","",3,"src"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"h1",2),d(3),i(),r(4,"button",3),m("click",function(){return n.onClose()}),i()(),r(5,"div",4)(6,"div",5),_(7,"iframe",6),te(8,"safe"),i()()()),e&2&&(s(3),q(n.modalTitle),s(4),c("src",De(8,2,"https://www.youtube.com/embed/"+n.youtubeUrl),Se))},dependencies:[ce],styles:["[_nghost-%COMP%]   .video-container[_ngcontent-%COMP%]{height:600px}[_nghost-%COMP%]   .modal-title[_ngcontent-%COMP%]{opacity:.75}[_nghost-%COMP%]   .modal-content[_ngcontent-%COMP%]{border:none}[_nghost-%COMP%]   .modal-header[_ngcontent-%COMP%]{color:#fff;background-color:#000;border-bottom:none}[_nghost-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:5px;background-color:#000}[_nghost-%COMP%]   .btn-close[_ngcontent-%COMP%]:focus{box-shadow:none}"]})};var me=class o{constructor(t){this.ngbModal=t}trailer;openTrailerModal(){let t=this.ngbModal.open(de,{size:"xl",centered:!0});t.componentInstance.modalTitle=this.trailer.title,t.componentInstance.youtubeUrl=this.trailer.key}get thumbnailUrl(){return`https://img.youtube.com/vi/${this.trailer.key}/hqdefault.jpg`}get videoUrl(){return`https://www.youtube.com/watch?v=${this.trailer.key}`}static \u0275fac=function(e){return new(e||o)(f(ot))};static \u0275cmp=C({type:o,selectors:[["app-trailer-card"]],inputs:{trailer:"trailer"},decls:7,vars:4,consts:[[1,"trailer-card",3,"click"],[1,"thumbnail-wrapper"],["loading","lazy",3,"src","alt"],[1,"fa-solid","fa-play","play-icon"],[1,"title"],[3,"title"]],template:function(e,n){e&1&&(r(0,"div",0),m("click",function(){return n.openTrailerModal()}),r(1,"div",1),_(2,"img",2)(3,"i",3),i(),r(4,"div",4)(5,"p",5),d(6),i()()()),e&2&&(s(2),Q("alt",n.trailer.title),c("src",n.thumbnailUrl,G),s(3),c("title",n.trailer.title),s(),B("",n.trailer.title," "))},dependencies:[E,nt],styles:["[_nghost-%COMP%]   .trailer-card[_ngcontent-%COMP%]{width:370px;background:#fff;border-radius:10px;text-align:center;transition:transform .3s ease,box-shadow .3s ease}[_nghost-%COMP%]   img[_ngcontent-%COMP%]{width:100%;display:block}[_nghost-%COMP%]   .trailer-card[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 8px 20px #0003}[_nghost-%COMP%]   .thumbnail-wrapper[_ngcontent-%COMP%]{position:relative;display:block}[_nghost-%COMP%]   .play-icon[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:36px;color:#fff;background-color:#0009;border-radius:30%;padding:14px}[_nghost-%COMP%]   .title[_ngcontent-%COMP%]{text-wrap:nowrap;font-size:large;font-family:cursive}"]})};var ge=(o,t)=>t.id;function ft(o,t){if(o&1){let e=M();r(0,"button",9),m("click",function(){P(e);let a=h();return x(a.clearSearch())}),d(1," Clear "),i()}}function _t(o,t){o&1&&_(0,"app-search-results")}function Ct(o,t){if(o&1&&_(0,"app-movie-card",15),o&2){let e=t.$implicit;c("title",e.title||e.name)("posterPath",e.poster_path)("releaseDate",e.release_date||e.first_air_date)("voteAverage",e.vote_average)("movieId",e.id)("mediaType",e.media_type)}}function bt(o,t){if(o&1&&_(0,"app-trailer-card",22),o&2){let e=t.$implicit;c("trailer",e)}}function Pt(o,t){if(o&1&&k(0,bt,1,1,"app-trailer-card",22,ge),o&2){let e=h(2);F(e.movieTrailers())}}function xt(o,t){if(o&1&&_(0,"app-trailer-card",22),o&2){let e=t.$implicit;c("trailer",e)}}function Mt(o,t){if(o&1&&k(0,xt,1,1,"app-trailer-card",22,ge),o&2){let e=h(2);F(e.tvTrailers())}}function Tt(o,t){if(o&1&&_(0,"app-movie-card",15),o&2){let e=t.$implicit;c("title",e.title||e.name)("posterPath",e.poster_path)("releaseDate",e.release_date||e.first_air_date)("voteAverage",e.vote_average)("movieId",e.id)("mediaType",e.media_type)}}function yt(o,t){if(o&1){let e=M();r(0,"div")(1,"div",10)(2,"p"),d(3,"Trending"),i(),r(4,"div",11)(5,"app-toggle-button",12),m("optionChanged",function(a){P(e);let p=h();return x(p.onToggleChange(a))}),i()()(),r(6,"div",13)(7,"div",14,0),m("scroll",function(){P(e);let a=ee(8),p=h();return x(p.onScroll(a))}),k(9,Ct,1,6,"app-movie-card",15,ge),i()(),r(11,"div",16)(12,"p"),d(13,"Trailers"),i(),r(14,"div",11)(15,"app-toggle-button",12),m("optionChanged",function(a){P(e);let p=h();return x(p.onToggleChangeTrailers(a))}),i()()(),r(16,"div",17)(17,"div",18),b(18,Pt,2,0)(19,Mt,2,0),i()(),r(20,"div",19)(21,"p"),d(22,"Plot Twist Recommends"),i(),r(23,"div",11)(24,"app-toggle-button",12),m("optionChanged",function(a){P(e);let p=h();return x(p.onToggleChangeRecommended(a))}),i()()(),r(25,"div",20)(26,"div",21,1),m("scroll",function(){P(e);let a=ee(27),p=h();return x(p.onScroll(a))}),k(28,Tt,1,6,"app-movie-card",15,ge),i()()()}if(o&2){let e=h();s(5),c("options",e.buttonOptions),s(2),D("masked",e.showMask),s(2),F(e.trendingItems()),s(6),c("options",e.buttonOptionsTrailers),s(3),O(e.mediaTypeTrailers()==="movies"||e.mediaTypeTrailers()==="Released This Week"?18:e.mediaTypeTrailers()==="tv"||e.mediaTypeTrailers()==="Released This Week"?19:-1),s(6),c("options",e.buttonOptionsRecommendations),s(2),D("masked",e.showMask),s(2),F(e.recommendedItems())}}var ue=class o{constructor(t,e){this.tmdbService=t;this.router=e;this.getTrendingItems(),this.onLoadMovieTrailers(),this.getRecommendedItems(this.movieId,this.tvId)}mediaType=l("movies");mediaTypeTrailers=l("movies");mediaTypeRecommended=l("movies");tvTrailers=l([]);movieTrailers=l([]);trendingItems=l([]);recommendedItems=l([]);searchQuery=l("");searchTriggered=l(!1);queryParams=l({});showMask=!0;movieId=27205;tvId=1396;get hasQuery(){return!!this.queryParams()?.query?.trim()}performSearch(){let t=this.searchQuery().trim();t&&this.router.navigate(["/search"],{queryParams:{query:t}})}clearSearch(){this.searchQuery.set(""),this.searchTriggered.set(!1)}getTrendingItems(){this.mediaType()==="movies"?this.tmdbService.getTrendingMovies().subscribe(t=>{this.trendingItems.set(t.results)}):this.tmdbService.getTrendingTv().subscribe(t=>{this.trendingItems.set(t.results)})}onToggleChange(t){this.mediaType.set(t==="Movies"?"movies":"tv"),this.getTrendingItems()}getRecommendedItems(t,e){this.mediaTypeRecommended()==="movies"?this.tmdbService.getRecommendedMovies(t).subscribe(n=>{this.recommendedItems.set(n.results)}):this.tmdbService.getRecommendedTvShows(e).subscribe(n=>{this.recommendedItems.set(n.results)})}onToggleChangeRecommended(t){this.mediaTypeRecommended.set(t==="Movies"?"movies":"tv"),this.getRecommendedItems(this.movieId,this.tvId)}onLoadTvTrailers(){this.tvTrailers.set([]),this.tmdbService.getTrendingTv().subscribe(t=>{t.results.slice(0,10).forEach(e=>{this.tmdbService.getTrendingTvVideos(e.id).subscribe(n=>{let a=n.results.find(p=>p.type==="Trailer"&&p.site==="YouTube");a&&this.tvTrailers.update(p=>[...p,{id:`${e.id}-${a.key}`,key:a.key,title:e.name}])})})})}onLoadMovieTrailers(){this.movieTrailers.set([]),this.tmdbService.getTrendingMovies().subscribe(t=>{t.results.slice(0,10).forEach(e=>{this.tmdbService.getTrendingMovieVideos(e.id).subscribe(n=>{let a=n.results.find(p=>p.type==="Trailer"&&p.site==="YouTube");a&&this.movieTrailers.update(p=>[...p,{id:`${e.id}-${a.key}`,key:a.key,title:e.title}])})})})}onLoadThisWeeksTrailers(){this.movieTrailers.set([]),this.tvTrailers.set([]);let t=new Date,e=new Date;e.setDate(t.getDate()-7);let n=e.toISOString().split("T")[0],a=t.toISOString().split("T")[0];this.tmdbService.getReleasedThisWeekMovies(n,a).subscribe(p=>{p.results.forEach(I=>{this.tmdbService.getTrendingMovieVideos(I.id).subscribe(v=>{let S=v.results.find(u=>u.type==="Trailer"&&u.site==="YouTube");S&&this.movieTrailers.update(u=>[...u,{id:`${I.id}-${S.key}`,key:S.key,title:I.title,poster:I.poster_path}])})})}),this.tmdbService.getReleasedThisWeekSeries(n,a).subscribe(p=>{p.results.forEach(I=>{this.tmdbService.getTrendingTvVideos(I.id).subscribe(v=>{let S=v.results.find(u=>u.type==="Trailer"&&u.site==="YouTube");S&&this.tvTrailers.update(u=>[...u,{id:`${I.id}-${S.key}`,key:S.key,title:I.name,poster:I.poster_path}])})})})}onToggleChangeTrailers(t){this.mediaTypeTrailers.set(t==="Movies"?"movies":"tv"),t==="Movies"?this.onLoadMovieTrailers():t==="TV"?this.onLoadTvTrailers():t==="Released This Week"&&this.onLoadThisWeeksTrailers()}buttonOptions=[{btnName:"Movies",isActive:!0},{btnName:"TV",isActive:!1}];buttonOptionsTrailers=[{btnName:"Movies",isActive:!0},{btnName:"TV",isActive:!1},{btnName:"Released This Week",isActive:!1}];buttonOptionsRecommendations=[{btnName:"Movies",isActive:!0},{btnName:"Tv-shows",isActive:!1}];onScroll(t){let e=t.scrollLeft+t.clientWidth>=t.scrollWidth-10;this.showMask=!e}static \u0275fac=function(e){return new(e||o)(f(y),f(R))};static \u0275cmp=C({type:o,selectors:[["app-home-page"]],decls:14,vars:4,consts:[["scrollContainer",""],["recommendedContainer",""],[1,"home-page-container"],[1,"search-wrapper"],[1,"search-box"],["type","text","placeholder","Search for a movie,tv show,person...",1,"form-control","search-input",3,"input","keyup.enter","value"],[1,"search-button",3,"click"],["class","btn btn-outline-secondary clear-button",3,"click",4,"ngIf"],[4,"ngIf"],[1,"btn","btn-outline-secondary","clear-button",3,"click"],[1,"trending"],[1,"toggle-button"],[3,"optionChanged","options"],[1,"movies-scrollbar-container"],[1,"movies-scrollbar",3,"scroll"],[3,"title","posterPath","releaseDate","voteAverage","movieId","mediaType"],[1,"trailers"],[1,"trailers-scrollbar-container"],[1,"trailers-scrollbar"],[1,"recommendation"],[1,"recommended-scrollbar-container"],[1,"recommended-scrollbar",3,"scroll"],[3,"trailer"]],template:function(e,n){e&1&&(r(0,"div",2)(1,"div")(2,"h2"),d(3,"Endless Stories.One Place."),i(),r(4,"h3"),d(5,"Only for Movie Nerds"),i()(),r(6,"div",3)(7,"div",4)(8,"input",5),m("input",function(p){return n.searchQuery.set(p.target.value)})("keyup.enter",function(){return n.performSearch()}),i(),r(9,"button",6),m("click",function(){return n.performSearch()}),d(10,"Search"),i(),b(11,ft,2,0,"button",7),i()(),b(12,_t,1,0,"app-search-results",8)(13,yt,30,8,"div",8),i()),e&2&&(s(8),c("value",n.searchQuery()),s(3),c("ngIf",n.searchTriggered()),s(),c("ngIf",n.hasQuery),s(),c("ngIf",!n.searchTriggered()))},dependencies:[E,J,pe,A,me,We,it],styles:["[_nghost-%COMP%]   .home-page-container[_ngcontent-%COMP%]{max-width:1300px;margin:auto}[_nghost-%COMP%]   h2[_ngcontent-%COMP%], [_nghost-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;color:#f5f7f7;text-shadow:color(from color srgb r g b);font-style:italic;margin-top:30px}[_nghost-%COMP%]   .search-wrapper[_ngcontent-%COMP%]{max-width:800px;margin:20px auto}[_nghost-%COMP%]   .search-box[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;position:relative;border-radius:50px;flex-wrap:nowrap}[_nghost-%COMP%]   .search-input[_ngcontent-%COMP%]{flex-grow:1;border-radius:50px;padding-left:20px;padding-right:20px;height:50px}[_nghost-%COMP%]   .search-button[_ngcontent-%COMP%]{border-radius:50px;padding:13px 20px;transition:all .3s ease;background-color:var(--logo-color);border:none;font-weight:500}[_nghost-%COMP%]   .search-button[_ngcontent-%COMP%]:hover{background-color:var(--btn-hover)}[_nghost-%COMP%]   .trending[_ngcontent-%COMP%]{display:flex;margin-top:50px}[_nghost-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;font-size:25px}[_nghost-%COMP%]   .movies-scrollbar-container[_ngcontent-%COMP%]{position:relative;display:flex;flex-wrap:wrap}[_nghost-%COMP%]   .movies-scrollbar[_ngcontent-%COMP%]{display:flex;gap:20px;overflow-x:auto;overflow-y:hidden;white-space:nowrap;scroll-behavior:smooth;transition:mask-image .3s ease;padding-bottom:16px;scrollbar-color:rgba(255,255,255,.34) transparent}[_nghost-%COMP%]   .movies-scrollbar.masked[_ngcontent-%COMP%]{mask-image:linear-gradient(to right,black 80%,transparent);-webkit-mask-image:linear-gradient(to right,black 80%,transparent)}[_nghost-%COMP%]   .movies-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-button{display:none}[_nghost-%COMP%]   .trailers-scrollbar[_ngcontent-%COMP%]{display:flex;overflow-x:auto;overflow-y:hidden;gap:15px;scroll-behavior:smooth;transition:opacity .2s ease-in-out;scrollbar-color:rgba(255,255,255,.34) transparent}[_nghost-%COMP%]   .trailers[_ngcontent-%COMP%], [_nghost-%COMP%]   .recommendation[_ngcontent-%COMP%]{display:flex;margin-top:50px}[_nghost-%COMP%]   .recommended-scrollbar-container[_ngcontent-%COMP%]{position:relative;display:flex;flex-wrap:wrap}[_nghost-%COMP%]   .recommended-scrollbar[_ngcontent-%COMP%]{display:flex;gap:20px;padding-bottom:16px;overflow-x:auto;overflow-y:hidden;white-space:nowrap;scroll-behavior:smooth;transition:mask-image .3s ease;scrollbar-color:rgba(255,255,255,.34) transparent}[_nghost-%COMP%]   .recommended-scrollbar.masked[_ngcontent-%COMP%]{mask-image:linear-gradient(to right,black 80%,transparent);-webkit-mask-image:linear-gradient(to right,black 80%,transparent)}[_nghost-%COMP%]   .clear-button[_ngcontent-%COMP%]{height:40px;padding:8px 15px}[_nghost-%COMP%]   app-search-results[_ngcontent-%COMP%]{margin-top:30px;display:block;background-color:#111;padding:20px;border-radius:12px}"]})};function wt(o,t){if(o&1){let e=M();r(0,"button",13),m("click",function(){let a=P(e).$implicit,p=h(2);return x(p.onSortSelected(a.value))}),d(1),i()}if(o&2){let e=t.$implicit,n=h(2);D("active",n.sortSelected()===e.value)("just-unselected",e.value===n.UnselectedSort()),s(),B(" ",e==null?null:e.label," ")}}function Ot(o,t){if(o&1&&b(0,wt,2,5,"button",12),o&2){let e=h();c("ngForOf",e.sortOptions)}}function St(o,t){if(o&1){let e=M();r(0,"button",13),m("click",function(){let a=P(e).$implicit,p=h();return x(p.onGenreSelected(a.id))}),d(1),i()}if(o&2){let e=t.$implicit,n=h();D("active",n.genreSelected().has(e.id)),s(),B(" ",e.name,"")}}function kt(o,t){if(o&1){let e=M();r(0,"button",14),m("click",function(){P(e);let a=h();return x(a.onSearch())}),d(1,` Search
`),i()}}var V=class o{constructor(t){this.tmdbService=t}filterTitle="";contentType="movie";sortSelected=l(null);genreSelected=l(new Set);UnselectedSort=l(null);UnselectedGenre=l(null);genreSelectedEvent=new W;searchBtnClicked=new W;resetOption=0;searchTriggered=!1;sortOptions=[];genres=[];ngOnInit(){this.sortOptions=this.contentType==="tv"?[{label:"Popularity Descending",value:"popularity.desc"},{label:"Popularity Ascending",value:"popularity.asc"},{label:"First Air Date Descending",value:"first_air_date.desc"},{label:"First Air Date Ascending",value:"first_air_date.asc"},{label:"Rating Descending",value:"vote_average.desc"},{label:"Rating Ascending",value:"vote_average.asc"}]:[{label:"Popularity Descending",value:"popularity.desc"},{label:"Popularity Ascending",value:"popularity.asc"},{label:"Release Date Descending",value:"primary_release_date.desc"},{label:"Release Date Ascending",value:"primary_release_date.asc"},{label:"Rating Descending",value:"vote_average.desc"},{label:"Rating Ascending",value:"vote_average.asc"}],(this.contentType==="tv"?this.tmdbService.getTvGenres():this.tmdbService.getMovieGenres()).subscribe(e=>{this.genres=e.genres})}onSortSelected(t){this.sortSelected()===t?(this.sortSelected.set(null),this.UnselectedSort.set(t)):(this.sortSelected.set(t),this.UnselectedSort.set(null)),this.searchTriggered=!1}onGenreSelected(t){let e=new Set(this.genreSelected());e.has(t)?e.delete(t):e.add(t),this.genreSelected.set(e),this.searchTriggered=!1}onSearch(){let t=this.sortSelected(),e=Array.from(this.genreSelected());this.searchTriggered=!0,this.searchBtnClicked.emit({sort:t??void 0,genreIds:e.length>0?e:[]})}ngOnChanges(){this.sortSelected.set(null),this.genreSelected.set(new Set)}static \u0275fac=function(e){return new(e||o)(f(y))};static \u0275cmp=C({type:o,selectors:[["app-filters"]],inputs:{filterTitle:"filterTitle",contentType:"contentType",resetOption:"resetOption"},outputs:{genreSelectedEvent:"genreSelectedEvent",searchBtnClicked:"searchBtnClicked"},features:[Oe],decls:17,vars:3,consts:[[1,"filters-title"],["ngbAccordion",""],["ngbAccordionItem",""],["ngbAccordionHeader",""],["ngbAccordionButton",""],["ngbAccordionCollapse",""],["ngbAccordionBody",""],[1,"mt-4","genre-container"],[1,"genre-title"],[1,"d-flex","flex-wrap","genre-buttons"],["class","btn btn-outline-secondary btn-sm me-1 mb-1",3,"active","click",4,"ngFor","ngForOf"],["class","w-100 position-fixed bottom-0 start-0 rounded-0 py-3 search-button","style","z-index: 1050;",3,"click",4,"ngIf"],["class","btn btn-outline-secondary btn-sm me-1 mb-1",3,"active","just-unselected","click",4,"ngFor","ngForOf"],[1,"btn","btn-outline-secondary","btn-sm","me-1","mb-1",3,"click"],[1,"w-100","position-fixed","bottom-0","start-0","rounded-0","py-3","search-button",2,"z-index","1050",3,"click"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"h2"),d(2),i()(),r(3,"div",1)(4,"div",2)(5,"h2",3)(6,"button",4),d(7,"Sort Results By"),i()(),r(8,"div",5)(9,"div",6),b(10,Ot,1,1,"ng-template"),i()()()(),r(11,"div",7)(12,"h5",8),d(13,"Filter By Genre"),i(),r(14,"div",9),b(15,St,2,3,"button",10),i()(),b(16,kt,2,0,"button",11)),e&2&&(s(2),q(n.filterTitle),s(13),c("ngForOf",n.genres),s(),c("ngIf",(n.sortSelected()||n.genreSelected().size>0)&&!n.searchTriggered))},dependencies:[E,Z,J,et,Ke,Xe,Je,Ze,Ge,Qe],styles:["[_nghost-%COMP%]{max-width:250px;display:block;min-height:100vh;width:100%}[_nghost-%COMP%]   .filters-title[_ngcontent-%COMP%]{display:flex;width:300px;color:#fff;max-height:700px}[_nghost-%COMP%]   button.btn-outline-secondary[_ngcontent-%COMP%]{color:#2a2929;background-color:transparent;transition:background-color .2s ease}[_nghost-%COMP%]   .btn-outline-secondary[_ngcontent-%COMP%]:not(.active):not(.just-unselected):hover{background-color:#a19f9f}[_nghost-%COMP%]   button.btn-outline-secondary.active[_ngcontent-%COMP%]{background-color:var(--logo-color);color:#fff}[_nghost-%COMP%]   button.btn-outline-secondary.active[_ngcontent-%COMP%]:hover{background-color:var(--btn-hover)}[_nghost-%COMP%]   .genre-container[_ngcontent-%COMP%]{margin-top:20px;color:#fff}[_nghost-%COMP%]   .genre-title[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#fff;margin-bottom:10px}[_nghost-%COMP%]   .genre-buttons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:6px;color:#fff}[_nghost-%COMP%]   .genre-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:15px;padding:6px 10px;color:#fff;font-weight:500;border-radius:8px;border:1px solid white;transition:background-color .3s ease}[_nghost-%COMP%]   .genre-buttons[_ngcontent-%COMP%]   .btn.active[_ngcontent-%COMP%]{background-color:var(--logo-color);color:#fff;border-color:var(--logo-color)}[_nghost-%COMP%]   .search-button[_ngcontent-%COMP%]{background-color:var(--logo-color)}"]})};var Ft=(o,t)=>t.id;function It(o,t){if(o&1&&_(0,"app-movie-card",5),o&2){let e=t.$implicit;c("title",e.title)("posterPath",e.poster_path)("releaseDate",e.release_date)("voteAverage",e.vote_average)("movieId",e.id)("mediaType","movie")}}function Rt(o,t){if(o&1){let e=M();r(0,"div",3)(1,"div",4),k(2,It,1,6,"app-movie-card",5,Ft),i(),r(4,"button",6),m("click",function(){P(e);let a=h();return x(a.onLoadNextPages())}),d(5,"Load More"),i()()}if(o&2){let e=h();D("fade-in",!e.loading()),s(2),F(e.popularMovies())}}function Dt(o,t){o&1&&_(0,"app-spinner")}var he=class o{constructor(t,e){this.tmdbService=t;this.router=e;this.onloadMovies(),this.router.events.pipe(j(n=>n instanceof z)).subscribe(n=>{this.router.url==="/movie"&&(this.sortOptionPicked.set(null),this.genreOptionPicked.set([]),this.currentPage.set(1),this.popularMovies.set([]),this.resetFilters(),this.onloadMovies())})}popularMovies=l([]);currentPage=l(1);totalPages=l(1);sortOptionPicked=l(null);genreOptionPicked=l([]);loading=l(!1);resetFilter=l(0);resetFilters(){this.resetFilter.update(t=>t+1)}onloadMovies(){this.loading.set(!0);let t=this.currentPage(),e=this.sortOptionPicked(),n=this.genreOptionPicked(),p=new Date().getFullYear()+1;(e||n.length>0?this.tmdbService.getSortedPopularMovies(e??"",t,n):this.tmdbService.getMoviesPopular(t)).subscribe({next:v=>{this.totalPages.set(v.total_pages);let S=v.results.filter(u=>{let g=u.release_date?parseInt(u.release_date.substring(0,4)):0,T=e==="release_date.asc"?g>0:g>=1900&&g<=p;return u.poster_path&&u.vote_average>0&&T});this.popularMovies.update(u=>{let g=new Set(u.map(w=>w.id)),T=S.filter(w=>!g.has(w.id));return[...u,...T]}),this.currentPage.set(t)},error:v=>{console.error("Problem in loading Movies",v),this.loading.set(!1)},complete:()=>{this.loading.set(!1)}})}onSearchFromFilters(t){let e=t.sort?.trim()||null,n=t.genreIds??[];this.sortOptionPicked.set(e),this.genreOptionPicked.set(n),this.currentPage.set(1),this.popularMovies.set([]),this.onloadMovies()}onLoadNextPages(){this.currentPage()<this.totalPages()&&(this.currentPage.update(t=>t+1),this.onloadMovies())}static \u0275fac=function(e){return new(e||o)(f(y),f(R))};static \u0275cmp=C({type:o,selectors:[["app-movies-popular"]],features:[ne([y])],decls:4,vars:5,consts:[[1,"movies-container"],[3,"searchBtnClicked","filterTitle","resetOption","contentType"],[1,"movies-grid-and-button",3,"fade-in"],[1,"movies-grid-and-button"],[1,"movies-grid"],[3,"title","posterPath","releaseDate","voteAverage","movieId","mediaType"],[1,"load-more-btn",3,"click"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"app-filters",1),m("searchBtnClicked",function(p){return n.onSearchFromFilters(p)}),i(),b(2,Rt,6,2,"div",2),i(),b(3,Dt,1,0,"app-spinner")),e&2&&(s(),c("filterTitle","Popular Movies")("resetOption",n.resetFilter())("contentType","movie"),s(),O(n.popularMovies().length?2:-1),s(),O(n.loading()?3:-1))},dependencies:[E,A,V,$],styles:["[_nghost-%COMP%]{display:block;padding-top:30px}[_nghost-%COMP%]   .movies-container[_ngcontent-%COMP%]{display:flex;margin:auto;justify-content:space-between;box-sizing:border-box;max-width:1250px;padding:0 20px}[_nghost-%COMP%]   .movies-grid-and-button[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}[_nghost-%COMP%]   .movies-grid[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;justify-content:center;gap:20px;padding-top:60px;min-height:900px;transition:min-height .3s ease}[_nghost-%COMP%]   .load-more-btn[_ngcontent-%COMP%]{margin-top:30px;padding:10px 25px;font-size:20px;border-radius:20px;background-color:var(--logo-color);font-weight:700;cursor:pointer;width:300px;align-self:center}[_nghost-%COMP%]   .load-more-btn[_ngcontent-%COMP%]:hover{background-color:var(--btn-hover)}"]})};var Et=(o,t)=>t.id;function Nt(o,t){if(o&1&&_(0,"app-movie-card",5),o&2){let e=t.$implicit;c("title",e.title)("posterPath",e.poster_path)("releaseDate",e.release_date)("voteAverage",e.vote_average)("movieId",e.id)("mediaType","movie")}}function At(o,t){if(o&1){let e=M();r(0,"div",3)(1,"div",4),k(2,Nt,1,6,"app-movie-card",5,Et),i(),r(4,"button",6),m("click",function(){P(e);let a=h();return x(a.onLoadNextPages())}),d(5,"Load More"),i()()}if(o&2){let e=h();D("fade-in",!e.loading()),s(2),F(e.nowPlayingMovies())}}function Lt(o,t){o&1&&_(0,"app-spinner")}var ve=class o{constructor(t,e){this.tmdbService=t;this.router=e;this.onLoadMovies(),this.router.events.pipe(j(n=>n instanceof z)).subscribe(n=>{this.router.url==="/movie/now-playing"&&(this.sortOptionPicked.set(null),this.genreOptionPicked.set([]),this.currentPage.set(1),this.nowPlayingMovies.set([]),this.resetFilters(),this.onLoadMovies())})}nowPlayingMovies=l([]);currentPage=l(1);totalPages=l(1);sortOptionPicked=l(null);genreOptionPicked=l([]);loading=l(!1);resetFilter=l(0);resetFilters(){this.resetFilter.update(t=>t+1)}onLoadMovies(){this.loading.set(!0);let t=this.currentPage(),e=this.sortOptionPicked(),n=this.genreOptionPicked(),p=new Date().getFullYear()+1;(e||n.length>0?this.tmdbService.getSortedNowPlayingMovies(e??"",t,n):this.tmdbService.getNowPlayingMovies(t)).subscribe({next:v=>{this.totalPages.set(v.total_pages);let S=v.results.filter(u=>{let g=u.release_date?parseInt(u.release_date.substring(0,4)):0,T=e==="release_date.asc"?g>0:g>=2025&&g<=p;return u.poster_path&&u.vote_average>0&&T});this.nowPlayingMovies.update(u=>{let g=new Set(u.map(w=>w.id)),T=S.filter(w=>!g.has(w.id));return[...u,...T]}),this.currentPage.set(t)},error:v=>{console.error("Problem in loading Movies",v),this.loading.set(!1)},complete:()=>{this.loading.set(!1)}})}onSearchFromFilters(t){let e=t.sort?.trim()||null,n=t.genreIds??[];this.sortOptionPicked.set(e),this.genreOptionPicked.set(n),this.currentPage.set(1),this.nowPlayingMovies.set([]),this.onLoadMovies()}onLoadNextPages(){this.currentPage()<this.totalPages()&&(this.currentPage.update(t=>t+1),this.onLoadMovies())}static \u0275fac=function(e){return new(e||o)(f(y),f(R))};static \u0275cmp=C({type:o,selectors:[["app-movies-now-playing"]],features:[ne([y])],decls:4,vars:5,consts:[[1,"movies-container"],[3,"searchBtnClicked","filterTitle","resetOption","contentType"],[1,"movies-grid-and-button",3,"fade-in"],[1,"movies-grid-and-button"],[1,"movies-grid"],[3,"title","posterPath","releaseDate","voteAverage","movieId","mediaType"],[1,"load-more-btn",3,"click"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"app-filters",1),m("searchBtnClicked",function(p){return n.onSearchFromFilters(p)}),i(),b(2,At,6,2,"div",2),i(),b(3,Lt,1,0,"app-spinner")),e&2&&(s(),c("filterTitle","Now Playing")("resetOption",n.resetFilter())("contentType","movie"),s(),O(n.nowPlayingMovies().length?2:-1),s(),O(n.loading()?3:-1))},dependencies:[E,V,A,$],styles:["[_nghost-%COMP%]{display:block;padding-top:30px}[_nghost-%COMP%]   .movies-container[_ngcontent-%COMP%]{display:flex;margin:auto;justify-content:space-between;box-sizing:border-box;max-width:1250px;padding:0 20px}[_nghost-%COMP%]   .movies-grid-and-button[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}[_nghost-%COMP%]   .movies-grid[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;justify-content:center;gap:20px;padding-top:60px}[_nghost-%COMP%]   .load-more-btn[_ngcontent-%COMP%]{margin-top:30px;padding:10px 25px;font-size:20px;border-radius:20px;background-color:var(--logo-color);font-weight:700;cursor:pointer;width:300px;align-self:center}[_nghost-%COMP%]   .load-more-btn[_ngcontent-%COMP%]:hover{background-color:var(--btn-hover)}"]})};var Vt=(o,t)=>t.id;function jt(o,t){if(o&1&&_(0,"app-movie-card",5),o&2){let e=t.$implicit;c("title",e.title)("posterPath",e.poster_path)("releaseDate",e.release_date)("voteAverage",e.vote_average)("movieId",e.id)("mediaType","movie")}}function Bt(o,t){if(o&1){let e=M();r(0,"div",3)(1,"div",4),k(2,jt,1,6,"app-movie-card",5,Vt),i(),r(4,"button",6),m("click",function(){P(e);let a=h();return x(a.onLoadNextPages())}),d(5,"Load More"),i()()}if(o&2){let e=h();D("fade-in",!e.loading()),s(2),F(e.upcomingMovies())}}function zt(o,t){o&1&&_(0,"app-spinner")}var fe=class o{constructor(t,e){this.tmdbService=t;this.router=e;this.onLoadMovies(),this.router.events.pipe(j(n=>n instanceof z)).subscribe(n=>{this.router.url==="/movie/upcoming"&&(this.sortOptionPicked.set(null),this.genreOptionPicked.set([]),this.currentPage.set(1),this.upcomingMovies.set([]),this.resetFilters(),this.onLoadMovies())})}upcomingMovies=l([]);currentPage=l(1);totalPages=l(1);sortOptionPicked=l(null);genreOptionPicked=l([]);loading=l(!1);resetFilter=l(0);resetFilters(){this.resetFilter.update(t=>t+1)}onLoadMovies(){this.loading.set(!0);let t=this.currentPage(),e=this.sortOptionPicked(),n=this.genreOptionPicked();(e||n.length>0?this.tmdbService.getSortedUpcomingMovies(e??"",t,n):this.tmdbService.getUpcomingMovies(t)).subscribe({next:p=>{this.totalPages.set(p.total_pages);let I=p.results.filter(v=>!!v.poster_path&&!!v.release_date);this.upcomingMovies.update(v=>{let S=new Set(v.map(g=>g.id)),u=I.filter(g=>!S.has(g.id));return[...v,...u]}),this.currentPage.set(t)},error:p=>{console.error("Problem loading upcoming movies",p),this.loading.set(!1)},complete:()=>{this.loading.set(!1)}})}onSearchFromFilters(t){let e=t.sort?.trim()||null,n=t.genreIds??[];this.sortOptionPicked.set(e),this.genreOptionPicked.set(n),this.currentPage.set(1),this.upcomingMovies.set([]),this.onLoadMovies()}onLoadNextPages(){this.currentPage()<this.totalPages()&&(this.currentPage.update(t=>t+1),this.onLoadMovies())}static \u0275fac=function(e){return new(e||o)(f(y),f(R))};static \u0275cmp=C({type:o,selectors:[["app-movies-upcoming"]],decls:4,vars:5,consts:[[1,"movies-container"],[3,"searchBtnClicked","filterTitle","resetOption","contentType"],[1,"movies-grid-and-button",3,"fade-in"],[1,"movies-grid-and-button"],[1,"movies-grid"],[3,"title","posterPath","releaseDate","voteAverage","movieId","mediaType"],[1,"load-more-btn",3,"click"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"app-filters",1),m("searchBtnClicked",function(p){return n.onSearchFromFilters(p)}),i(),b(2,Bt,6,2,"div",2),i(),b(3,zt,1,0,"app-spinner")),e&2&&(s(),c("filterTitle","Upcoming")("resetOption",n.resetFilter())("contentType","movie"),s(),O(n.upcomingMovies().length?2:-1),s(),O(n.loading()?3:-1))},dependencies:[V,A,$],styles:["[_nghost-%COMP%]{display:block;padding-top:30px}[_nghost-%COMP%]   .movies-container[_ngcontent-%COMP%]{display:flex;margin:auto;justify-content:space-between;box-sizing:border-box;max-width:1250px;padding:0 20px}[_nghost-%COMP%]   .movies-grid-and-button[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}[_nghost-%COMP%]   .movies-grid[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;justify-content:center;gap:20px;padding-top:60px}[_nghost-%COMP%]   .load-more-btn[_ngcontent-%COMP%]{margin-top:30px;padding:10px 25px;font-size:20px;border-radius:20px;background-color:var(--logo-color);font-weight:700;cursor:pointer;width:300px;align-self:center}[_nghost-%COMP%]   .load-more-btn[_ngcontent-%COMP%]:hover{background-color:var(--btn-hover)}"]})};var $t=(o,t)=>t.id;function Ht(o,t){if(o&1&&_(0,"app-movie-card",5),o&2){let e=t.$implicit;c("title",e.title)("posterPath",e.poster_path)("releaseDate",e.release_date)("voteAverage",e.vote_average)("movieId",e.id)("mediaType","movie")}}function Ut(o,t){if(o&1){let e=M();r(0,"div",3)(1,"div",4),k(2,Ht,1,6,"app-movie-card",5,$t),i(),r(4,"button",6),m("click",function(){P(e);let a=h();return x(a.onLoadNextPages())}),d(5,"Load More"),i()()}if(o&2){let e=h();D("fade-in",!e.loading()),s(2),F(e.topRatedMovies())}}function Yt(o,t){o&1&&_(0,"app-spinner")}var _e=class o{constructor(t,e){this.tmdbService=t;this.router=e;this.onLoadMovies(),this.router.events.pipe(j(n=>n instanceof z)).subscribe(n=>{this.router.url==="/movie/top-rated"&&(this.sortOptionPicked.set(null),this.genreOptionPicked.set([]),this.currentPage.set(1),this.topRatedMovies.set([]),this.resetFilters(),this.onLoadMovies())})}topRatedMovies=l([]);currentPage=l(1);totalPages=l(1);sortOptionPicked=l(null);genreOptionPicked=l([]);loading=l(!1);resetFilter=l(0);resetFilters(){this.resetFilter.update(t=>t+1)}onLoadMovies(){this.loading.set(!0);let t=this.currentPage(),e=this.sortOptionPicked(),n=this.genreOptionPicked(),p=new Date().getFullYear()+1;(e||n.length>0?this.tmdbService.getSortedTopRatedMovie(e??"",t,n):this.tmdbService.getTopRatedMovies(t)).subscribe({next:v=>{this.totalPages.set(v.total_pages);let S=v.results.filter(u=>{let g=u.release_date?parseInt(u.release_date.substring(0,4)):0,T=e==="release_date.asc"?g>0:g>=1920&&g<=p;return u.poster_path&&u.vote_average>0&&T});this.topRatedMovies.update(u=>{let g=new Set(u.map(w=>w.id)),T=S.filter(w=>!g.has(w.id));return[...u,...T]}),this.currentPage.set(t)},error:v=>{console.error("Problem in loading Movies",v),this.loading.set(!1)},complete:()=>{this.loading.set(!1)}})}onSearchFromFilters(t){let e=t.sort?.trim()||null,n=t.genreIds??[];this.sortOptionPicked.set(e),this.genreOptionPicked.set(n),this.currentPage.set(1),this.topRatedMovies.set([]),this.onLoadMovies()}onLoadNextPages(){this.currentPage()<this.totalPages()&&(this.currentPage.update(t=>t+1),this.onLoadMovies())}static \u0275fac=function(e){return new(e||o)(f(y),f(R))};static \u0275cmp=C({type:o,selectors:[["app-movies-top-rated"]],decls:4,vars:5,consts:[[1,"movies-container"],[3,"searchBtnClicked","filterTitle","resetOption","contentType"],[1,"movies-grid-and-button",3,"fade-in"],[1,"movies-grid-and-button"],[1,"movies-grid"],[3,"title","posterPath","releaseDate","voteAverage","movieId","mediaType"],[1,"load-more-btn",3,"click"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"app-filters",1),m("searchBtnClicked",function(p){return n.onSearchFromFilters(p)}),i(),b(2,Ut,6,2,"div",2),i(),b(3,Yt,1,0,"app-spinner")),e&2&&(s(),c("filterTitle","Top Rated")("resetOption",n.resetFilter())("contentType","movie"),s(),O(n.topRatedMovies().length?2:-1),s(),O(n.loading()?3:-1))},dependencies:[V,A,$],styles:["[_nghost-%COMP%]{display:block;padding-top:30px}[_nghost-%COMP%]   .movies-container[_ngcontent-%COMP%]{display:flex;margin:auto;justify-content:space-between;box-sizing:border-box;max-width:1250px;padding:0 20px}[_nghost-%COMP%]   .movies-grid-and-button[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}[_nghost-%COMP%]   .movies-grid[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;justify-content:center;gap:20px;padding-top:60px}[_nghost-%COMP%]   .load-more-btn[_ngcontent-%COMP%]{margin-top:30px;padding:10px 25px;font-size:20px;border-radius:20px;background-color:var(--logo-color);font-weight:700;cursor:pointer;width:300px;align-self:center}[_nghost-%COMP%]   .load-more-btn[_ngcontent-%COMP%]:hover{background-color:var(--btn-hover)}"]})};var qt=(o,t)=>t.id;function Wt(o,t){if(o&1&&_(0,"app-movie-card",5),o&2){let e=t.$implicit;c("title",e.original_name)("posterPath",e.poster_path)("releaseDate",e.first_air_date)("voteAverage",e.vote_average)("movieId",e.id)("mediaType","tv")}}function Gt(o,t){if(o&1){let e=M();r(0,"div",3)(1,"div",4),k(2,Wt,1,6,"app-movie-card",5,qt),i(),r(4,"button",6),m("click",function(){P(e);let a=h();return x(a.onLoadNextPages())}),d(5,"Load More"),i()()}if(o&2){let e=h();D("fade-in",!e.loading()),s(2),F(e.popularTvShows())}}function Qt(o,t){o&1&&_(0,"app-spinner")}var Ce=class o{constructor(t,e){this.tmdbService=t;this.router=e;this.onLoadSeries(),this.router.events.pipe(j(n=>n instanceof z)).subscribe(n=>{this.router.url==="/tv"&&(this.sortOptionPicked.set(null),this.genreOptionPicked.set([]),this.currentPage.set(1),this.popularTvShows.set([]),this.resetFilters(),this.onLoadSeries())})}popularTvShows=l([]);currentPage=l(1);totalPages=l(1);sortOptionPicked=l(null);genreOptionPicked=l([]);loading=l(!1);resetFilter=l(0);resetFilters(){this.resetFilter.update(t=>t+1)}onLoadSeries(){this.loading.set(!0);let t=this.currentPage(),e=this.sortOptionPicked(),n=this.genreOptionPicked(),p=new Date().getFullYear()+1;(e||n.length>0?this.tmdbService.getSortedPopularTvShows(e??"",t,n):this.tmdbService.getPopularTvShows(t)).subscribe({next:v=>{this.totalPages.set(v.total_pages);let S=v.results.filter(u=>{let g=u.first_air_date?parseInt(u.first_air_date.substring(0,4)):0,T=e==="first_air_date.asc"?g>0:g>=1920&&g<=p;return!!u.poster_path&&u.vote_average>0&&T});e==="first_air_date.asc"?S.sort((u,g)=>u.first_air_date.localeCompare(g.first_air_date??"")??0):e==="first_air_date.desc"&&S.sort((u,g)=>g.first_air_date.localeCompare(u.first_air_date??"")??0),t===1?this.popularTvShows.set(S):this.popularTvShows.update(u=>{let g=new Set(u.map(w=>w.id)),T=S.filter(w=>!g.has(w.id));return[...u,...T]}),this.currentPage.set(t)},error:v=>{console.error("Problem in loading Tv Shows",v),this.loading.set(!1)},complete:()=>{this.loading.set(!1)}})}onSearchFromFilters(t){let e=t.sort?.trim()||null,n=t.genreIds??[];this.sortOptionPicked.set(e),this.genreOptionPicked.set(n),this.currentPage.set(1),this.popularTvShows.set([]),this.onLoadSeries()}onLoadNextPages(){this.currentPage()<this.totalPages()&&(this.currentPage.update(t=>t+1),this.onLoadSeries())}static \u0275fac=function(e){return new(e||o)(f(y),f(R))};static \u0275cmp=C({type:o,selectors:[["app-tv-shows-popular"]],decls:4,vars:5,consts:[[1,"series-container"],[3,"searchBtnClicked","filterTitle","resetOption","contentType"],[1,"series-grid-and-button",3,"fade-in"],[1,"series-grid-and-button"],[1,"series-grid"],[3,"title","posterPath","releaseDate","voteAverage","movieId","mediaType"],[1,"load-more-btn",3,"click"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"app-filters",1),m("searchBtnClicked",function(p){return n.onSearchFromFilters(p)}),i(),b(2,Gt,6,2,"div",2),i(),b(3,Qt,1,0,"app-spinner")),e&2&&(s(),c("filterTitle","Popular")("resetOption",n.resetFilter())("contentType","tv"),s(),O(n.popularTvShows().length?2:-1),s(),O(n.loading()?3:-1))},dependencies:[A,V,$],styles:["[_nghost-%COMP%]{display:block;padding-top:30px}[_nghost-%COMP%]   .series-container[_ngcontent-%COMP%]{display:flex;margin:auto;justify-content:space-between;box-sizing:border-box;max-width:1250px;padding:0 20px}[_nghost-%COMP%]   .series-grid-and-button[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}[_nghost-%COMP%]   .series-grid[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;justify-content:center;gap:20px;padding-top:60px}[_nghost-%COMP%]   .load-more-btn[_ngcontent-%COMP%]{margin-top:30px;padding:10px 25px;font-size:20px;border-radius:20px;background-color:var(--logo-color);font-weight:700;cursor:pointer;width:300px;align-self:center}[_nghost-%COMP%]   .load-more-btn[_ngcontent-%COMP%]:hover{background-color:var(--btn-hover)}"]})};var Kt=(o,t)=>t.id;function Zt(o,t){if(o&1&&_(0,"app-movie-card",5),o&2){let e=t.$implicit;c("title",e.original_name)("posterPath",e.poster_path)("releaseDate",e.first_air_date)("voteAverage",e.vote_average)("movieId",e.id)("mediaType","tv")}}function Jt(o,t){if(o&1){let e=M();r(0,"div",3)(1,"div",4),k(2,Zt,1,6,"app-movie-card",5,Kt),i(),r(4,"button",6),m("click",function(){P(e);let a=h();return x(a.onLoadNextPages())}),d(5,"Load More"),i()()}if(o&2){let e=h();D("fade-in",!e.loading()),s(2),F(e.airingTodayTvShows())}}function Xt(o,t){o&1&&_(0,"app-spinner")}var be=class o{constructor(t,e){this.tmdbService=t;this.router=e;this.onLoadSeries(),this.router.events.pipe(j(n=>n instanceof z)).subscribe(n=>{this.router.url==="/tv/airing-today"&&(this.sortOptionPicked.set(null),this.genreOptionPicked.set([]),this.currentPage.set(1),this.airingTodayTvShows.set([]),this.resetFilters(),this.onLoadSeries())})}airingTodayTvShows=l([]);currentPage=l(1);totalPages=l(1);sortOptionPicked=l(null);genreOptionPicked=l([]);loading=l(!1);resetFilter=l(0);resetFilters(){this.resetFilter.update(t=>t+1)}onLoadSeries(t=20){this.loading.set(!0);let e=this.currentPage(),n=this.sortOptionPicked(),a=this.genreOptionPicked();e===1&&this.airingTodayTvShows.set([]);let p=()=>{(n||a.length>0?this.tmdbService.getSortedAiringTodayTvShows(n??"",e,a):this.tmdbService.getAiringTodayTvShows(e)).subscribe({next:v=>{this.totalPages.set(v.total_pages);let S=v.results.filter(g=>{let T=g.first_air_date?parseInt(g.first_air_date.substring(0,4)):0,w=T>=2024&&T<=2026;return!!g.poster_path&&g.vote_average>0&&w});this.airingTodayTvShows.update(g=>{let T=new Set(g.map(H=>H.id)),w=S.filter(H=>!T.has(H.id));return[...g,...w]}),this.airingTodayTvShows().length<t&&e<v.total_pages?(e++,this.currentPage.set(e),p()):(this.currentPage.set(e),this.loading.set(!1))},error:v=>{console.error("Failed to load TV Shows:",v),this.loading.set(!1)}})};p()}onSearchFromFilters(t){let e=t.sort?.trim()||null,n=t.genreIds??[];this.sortOptionPicked.set(e),this.genreOptionPicked.set(n),this.currentPage.set(1),this.airingTodayTvShows.set([]),this.onLoadSeries()}onLoadNextPages(){if(this.currentPage()<this.totalPages()){let t=this.airingTodayTvShows().length;this.onLoadSeries(t+20)}}static \u0275fac=function(e){return new(e||o)(f(y),f(R))};static \u0275cmp=C({type:o,selectors:[["app-tv-shows-airing-today"]],decls:4,vars:5,consts:[[1,"series-container"],[3,"searchBtnClicked","filterTitle","resetOption","contentType"],[1,"series-grid-and-button",3,"fade-in"],[1,"series-grid-and-button"],[1,"series-grid"],[3,"title","posterPath","releaseDate","voteAverage","movieId","mediaType"],[1,"load-more-btn",3,"click"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"app-filters",1),m("searchBtnClicked",function(p){return n.onSearchFromFilters(p)}),i(),b(2,Jt,6,2,"div",2),i(),b(3,Xt,1,0,"app-spinner")),e&2&&(s(),c("filterTitle","Airing Today")("resetOption",n.resetFilter())("contentType","tv"),s(),O(n.airingTodayTvShows().length?2:-1),s(),O(n.loading()?3:-1))},dependencies:[A,V,$],styles:["[_nghost-%COMP%]{display:block;padding-top:30px}[_nghost-%COMP%]   .series-container[_ngcontent-%COMP%]{display:flex;margin:auto;justify-content:space-between;box-sizing:border-box;max-width:1250px;padding:0 20px}[_nghost-%COMP%]   .series-grid-and-button[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}[_nghost-%COMP%]   .series-grid[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;justify-content:center;gap:20px;padding-top:60px}[_nghost-%COMP%]   .load-more-btn[_ngcontent-%COMP%]{margin-top:30px;padding:10px 25px;font-size:20px;border-radius:20px;background-color:var(--logo-color);font-weight:700;cursor:pointer;width:300px;align-self:center}[_nghost-%COMP%]   .load-more-btn[_ngcontent-%COMP%]:hover{background-color:var(--btn-hover)}"]})};var eo=(o,t)=>t.id;function to(o,t){if(o&1&&_(0,"app-movie-card",5),o&2){let e=t.$implicit;c("title",e.original_name)("posterPath",e.poster_path)("releaseDate",e.first_air_date)("voteAverage",e.vote_average)("movieId",e.id)("mediaType","tv")}}function oo(o,t){if(o&1){let e=M();r(0,"div",3)(1,"div",4),k(2,to,1,6,"app-movie-card",5,eo),i(),r(4,"button",6),m("click",function(){P(e);let a=h();return x(a.onLoadNextPages())}),d(5,"Load More"),i()()}if(o&2){let e=h();D("fade-in",!e.loading()),s(2),F(e.showsOnTv())}}function no(o,t){o&1&&_(0,"app-spinner")}var Pe=class o{constructor(t,e){this.tmdbService=t;this.router=e;this.onLoadSeries(),this.router.events.pipe(j(n=>n instanceof z)).subscribe(n=>{this.router.url==="/tv/on-tv"&&(this.sortOptionPicked.set(null),this.genreOptionPicked.set([]),this.currentPage.set(1),this.showsOnTv.set([]),this.resetFilters(),this.onLoadSeries())})}showsOnTv=l([]);currentPage=l(1);totalPages=l(1);sortOptionPicked=l(null);genreOptionPicked=l([]);loading=l(!1);resetFilter=l(0);resetFilters(){this.resetFilter.update(t=>t+1)}onLoadSeries(t=20){this.loading.set(!0);let e=this.currentPage(),n=this.sortOptionPicked(),a=this.genreOptionPicked();e===1&&this.showsOnTv.set([]);let p=()=>{(n||a.length>0?this.tmdbService.getSortedOnTvShows(n??"",e,a):this.tmdbService.getTvShowsOnTv(e)).subscribe({next:v=>{this.totalPages.set(v.total_pages);let S=v.results.filter(g=>{let T=g.first_air_date?parseInt(g.first_air_date.substring(0,4)):0,w=T>=2024&&T<=2026;return!!g.poster_path&&g.vote_average>0&&w});this.showsOnTv.update(g=>{let T=new Set(g.map(H=>H.id)),w=S.filter(H=>!T.has(H.id));return[...g,...w]}),this.showsOnTv().length<t&&e<v.total_pages?(e++,this.currentPage.set(e),p()):(this.currentPage.set(e),this.loading.set(!1))},error:v=>{console.error("Failed to load On TV Shows:",v),this.loading.set(!1)}})};p()}onSearchFromFilters(t){let e=t.sort?.trim()||null,n=t.genreIds??[];this.sortOptionPicked.set(e),this.genreOptionPicked.set(n),this.currentPage.set(1),this.showsOnTv.set([]),this.onLoadSeries()}onLoadNextPages(){if(this.currentPage()<this.totalPages()){let t=this.showsOnTv().length;this.onLoadSeries(t+20)}}static \u0275fac=function(e){return new(e||o)(f(y),f(R))};static \u0275cmp=C({type:o,selectors:[["app-tv-shows-on-tv"]],decls:4,vars:5,consts:[[1,"series-container"],[3,"searchBtnClicked","filterTitle","resetOption","contentType"],[1,"series-grid-and-button",3,"fade-in"],[1,"series-grid-and-button"],[1,"series-grid"],[3,"title","posterPath","releaseDate","voteAverage","movieId","mediaType"],[1,"load-more-btn",3,"click"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"app-filters",1),m("searchBtnClicked",function(p){return n.onSearchFromFilters(p)}),i(),b(2,oo,6,2,"div",2),i(),b(3,no,1,0,"app-spinner")),e&2&&(s(),c("filterTitle","On Tv")("resetOption",n.resetFilter())("contentType","tv"),s(),O(n.showsOnTv().length?2:-1),s(),O(n.loading()?3:-1))},dependencies:[V,A,$],styles:["[_nghost-%COMP%]{display:block;padding-top:30px}[_nghost-%COMP%]   .series-container[_ngcontent-%COMP%]{display:flex;margin:auto;justify-content:space-between;box-sizing:border-box;max-width:1250px;padding:0 20px}[_nghost-%COMP%]   .series-grid-and-button[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}[_nghost-%COMP%]   .series-grid[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;justify-content:center;gap:20px;padding-top:60px}[_nghost-%COMP%]   .load-more-btn[_ngcontent-%COMP%]{margin-top:30px;padding:10px 25px;font-size:20px;border-radius:20px;background-color:var(--logo-color);font-weight:700;cursor:pointer;width:300px;align-self:center}[_nghost-%COMP%]   .load-more-btn[_ngcontent-%COMP%]:hover{background-color:var(--btn-hover)}"]})};var io=(o,t)=>t.id;function ro(o,t){if(o&1&&_(0,"app-movie-card",5),o&2){let e=t.$implicit;c("title",e.original_name)("posterPath",e.poster_path)("releaseDate",e.first_air_date)("voteAverage",e.vote_average)("movieId",e.id)("mediaType","tv")}}function so(o,t){if(o&1){let e=M();r(0,"div",3)(1,"div",4),k(2,ro,1,6,"app-movie-card",5,io),i(),r(4,"button",6),m("click",function(){P(e);let a=h();return x(a.onLoadNextPages())}),d(5,"Load More"),i()()}if(o&2){let e=h();D("fade-in",!e.loading()),s(2),F(e.topRatedTvShows())}}var xe=class o{constructor(t,e){this.tmdbService=t;this.router=e;this.onLoadTvSeries(),this.router.events.pipe(j(n=>n instanceof z)).subscribe(()=>{this.router.url==="/tv/top-rated"&&(this.sortOptionPicked.set(null),this.genreOptionPicked.set([]),this.currentPage.set(1),this.topRatedTvShows.set([]),this.resetFilters(),this.onLoadTvSeries())})}topRatedTvShows=l([]);currentPage=l(1);totalPages=l(1);sortOptionPicked=l(null);genreOptionPicked=l([]);loading=l(!1);resetFilter=l(0);resetFilters(){this.resetFilter.update(t=>t+1)}onLoadTvSeries(t=20){this.loading.set(!0);let e=this.currentPage(),n=this.sortOptionPicked(),a=this.genreOptionPicked();e===1&&this.topRatedTvShows.set([]);let p=()=>{(n||a.length>0?this.tmdbService.getSortedTopRatedTvShows(n??"",e,a):this.tmdbService.getTvShowsTopRated(e)).subscribe({next:v=>{this.totalPages.set(v.total_pages);let S=v.results.filter(g=>{let T=g.first_air_date?parseInt(g.first_air_date.substring(0,4)):0,w=T>=1930&&T<=new Date().getFullYear()+1;return!!g.poster_path&&g.vote_average>0&&w});this.topRatedTvShows.update(g=>{let T=new Set(g.map(H=>H.id)),w=S.filter(H=>!T.has(H.id));return[...g,...w]}),this.topRatedTvShows().length<t&&e<v.total_pages?(e++,this.currentPage.set(e),p()):(this.currentPage.set(e),this.loading.set(!1))},error:v=>{console.error("Failed to load Top Rated TV Shows:",v),this.loading.set(!1)}})};p()}onSearchFromFilters(t){let e=t.sort?.trim()||null,n=t.genreIds??[];this.sortOptionPicked.set(e),this.genreOptionPicked.set(n),this.currentPage.set(1),this.topRatedTvShows.set([]),this.onLoadTvSeries()}onLoadNextPages(){if(this.currentPage()<this.totalPages()){let t=this.topRatedTvShows().length;this.onLoadTvSeries(t+20)}}static \u0275fac=function(e){return new(e||o)(f(y),f(R))};static \u0275cmp=C({type:o,selectors:[["app-tv-shows-top-rated"]],decls:3,vars:4,consts:[[1,"series-container"],[3,"searchBtnClicked","filterTitle","resetOption","contentType"],[1,"series-grid-and-button",3,"fade-in"],[1,"series-grid-and-button"],[1,"series-grid"],[3,"title","posterPath","releaseDate","voteAverage","movieId","mediaType"],[1,"load-more-btn",3,"click"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"app-filters",1),m("searchBtnClicked",function(p){return n.onSearchFromFilters(p)}),i(),b(2,so,6,2,"div",2),i()),e&2&&(s(),c("filterTitle","Top Rated")("resetOption",n.resetFilter())("contentType","tv"),s(),O(n.topRatedTvShows().length?2:-1))},dependencies:[V,A],styles:["[_nghost-%COMP%]{display:block;padding-top:30px}[_nghost-%COMP%]   .series-container[_ngcontent-%COMP%]{display:flex;margin:auto;justify-content:space-between;box-sizing:border-box;max-width:1250px;padding:0 20px}[_nghost-%COMP%]   .series-grid-and-button[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}[_nghost-%COMP%]   .series-grid[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;justify-content:center;gap:20px;padding-top:60px}[_nghost-%COMP%]   .load-more-btn[_ngcontent-%COMP%]{margin-top:30px;padding:10px 25px;font-size:20px;border-radius:20px;background-color:var(--logo-color);font-weight:700;cursor:pointer;width:300px;align-self:center}[_nghost-%COMP%]   .load-more-btn[_ngcontent-%COMP%]:hover{background-color:var(--btn-hover)}"]})};var ao=(o,t)=>t.title||t.name;function lo(o,t){if(o&1&&(r(0,"div",3)(1,"li"),d(2),i()()),o&2){let e=t.$implicit;s(2),q(e.title||e.name)}}var Me=class o{constructor(t){this.router=t}person;goToPersonDetails(t){this.router.navigate(["/person",this.person.id])}get mostKnownFor(){return this.person.known_for.sort((t,e)=>e.popularity-t.popularity).slice(0,3)}static \u0275fac=function(e){return new(e||o)(f(R))};static \u0275cmp=C({type:o,selectors:[["app-people-card"]],inputs:{person:"person"},decls:7,vars:3,consts:[[1,"card-wrapper"],[1,"profile",3,"click","src","alt"],[1,"person-details"],[1,"work-name"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"img",1),m("click",function(){return n.goToPersonDetails(n.person.id)}),i(),r(2,"div",2)(3,"h3"),d(4),i(),k(5,lo,3,1,"div",3,ao),i()()),e&2&&(s(),Q("alt",n.person.name),c("src","https://image.tmdb.org/t/p/w185"+n.person.profile_path,G),s(3),q(n.person.name),s(),F(n.mostKnownFor))},styles:["[_nghost-%COMP%]   .card-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:280px;max-width:280px;height:500px;align-items:center;background-color:#fff;box-shadow:0 8px 12px #0000001a;padding:15px}[_nghost-%COMP%]   .profile[_ngcontent-%COMP%]{width:100%;height:330px;object-fit:cover;border-radius:10px}[_nghost-%COMP%]   .profile[_ngcontent-%COMP%]:hover{cursor:pointer}[_nghost-%COMP%]   .person-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;margin-top:5px}[_nghost-%COMP%]   .person-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:4px 0;font-size:18px;font-weight:600;color:#333}[_nghost-%COMP%]   .work-name[_ngcontent-%COMP%]{font-size:14px;color:#666;margin-top:5px;width:100%}[_nghost-%COMP%]   li[_ngcontent-%COMP%]{text-indent:-20px;padding-left:16px}"]})};var po=(o,t)=>t.id;function co(o,t){if(o&1&&_(0,"app-people-card",2),o&2){let e=t.$implicit;c("person",e)}}function mo(o,t){o&1&&_(0,"app-spinner")}var Te=class o{constructor(t){this.tmdbService=t;this.onLoadPopularPeople()}popularPeople=l([]);currentPage=l(1);totalPages=l(1);loading=l(!0);onLoadPopularPeople(){this.loading.set(!0),this.tmdbService.getPopularPeople(this.currentPage()).subscribe(t=>{this.popularPeople.update(e=>[...e,...t.results]),this.totalPages.set(t.total_pages),this.loading.set(!1)})}onLoadNextPages(){this.currentPage()<this.totalPages()&&this.currentPage.update(t=>t+1),this.onLoadPopularPeople()}static \u0275fac=function(e){return new(e||o)(f(y))};static \u0275cmp=C({type:o,selectors:[["app-popular-people"]],decls:10,vars:1,consts:[[1,"page-background"],[1,"people-container"],[3,"person"],[1,"btn-container"],[1,"load-more-btn",3,"click"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"h3"),d(2,"Popular People"),i(),r(3,"div",1),k(4,co,1,1,"app-people-card",2,po),i(),r(6,"div",3)(7,"button",4),m("click",function(){return n.onLoadNextPages()}),d(8,"Load More"),i()()(),b(9,mo,1,0,"app-spinner")),e&2&&(s(4),F(n.popularPeople()),s(5),O(n.loading()?9:-1))},dependencies:[E,Me,$],styles:["[_nghost-%COMP%]   .people-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:25px;padding:25px;justify-content:center}[_nghost-%COMP%]   .page-background[_ngcontent-%COMP%]{background-color:#f5f5f5;min-height:100vh;padding:32px 0}[_nghost-%COMP%]   h3[_ngcontent-%COMP%]{margin:auto;max-width:fit-content}[_nghost-%COMP%]   .load-more-btn[_ngcontent-%COMP%]{margin-top:30px;padding:10px 25px;font-size:20px;border-radius:20px;background-color:var(--logo-color);font-weight:700;cursor:pointer;width:300px}[_nghost-%COMP%]   .load-more-btn[_ngcontent-%COMP%]:hover{background-color:var(--btn-hover)}[_nghost-%COMP%]   .btn-container[_ngcontent-%COMP%]{display:flex;justify-content:center}"]})};var st=[{path:"",component:ue},{path:"movie",component:he,runGuardsAndResolvers:"always"},{path:"movie/now-playing",component:ve,runGuardsAndResolvers:"always"},{path:"movie/upcoming",component:fe},{path:"movie/top-rated",component:_e},{path:"tv",component:Ce},{path:"tv/airing-today",component:be},{path:"tv/on-tv",component:Pe},{path:"tv/top-rated",component:xe},{path:"people",component:Te},{path:"person/:id",loadComponent:()=>import("./chunk-RBRDRNNF.js").then(o=>o.PersonDetailsComponent)},{path:"movie/:id",loadComponent:()=>import("./chunk-XS2MDR4S.js").then(o=>o.MovieDetailsComponent)},{path:"tv/:id",loadComponent:()=>import("./chunk-XS2MDR4S.js").then(o=>o.MovieDetailsComponent)},{path:"search",loadComponent:()=>import("./chunk-AIEDM2IP.js").then(o=>o.SearchResultsComponent)},{path:"auth/done",loadComponent:()=>import("./chunk-LNMDU4LL.js").then(o=>o.AuthDoneComponent)},{path:"u/:username/:type",loadComponent:()=>import("./chunk-XIS3TIFA.js").then(o=>o.UserListComponent)}];var at={providers:[Ne({eventCoalescing:!0}),He(st,Ue({onSameUrlNavigation:"reload"}),Ye()),Be(),y]};je(le,at).catch(o=>console.error(o));
